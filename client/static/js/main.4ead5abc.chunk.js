(this["webpackJsonpdeposit-withdraw"]=this["webpackJsonpdeposit-withdraw"]||[]).push([[0],{130:function(e){e.exports=JSON.parse('{"version":"0.1.0","name":"deposit_withdraw","instructions":[{"name":"initialize","accounts":[{"name":"authority","isMut":false,"isSigner":false},{"name":"owner","isMut":false,"isSigner":true},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"pool","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"deposit","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"depositor","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw","accounts":[{"name":"pool","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"receiver","isMut":true,"isSigner":false},{"name":"poolSigner","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"Pool","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"nonce","type":"u8"},{"name":"vault","type":"publicKey"}]}}],"errors":[{"code":6000,"name":"NotEnoughPoolAmount","msg":"Pool amount is not enough."}],"metadata":{"address":"7Xev9w6cvHkDXmDFB71LBWXP99bNXqnccTKXz2QZEeRz"}}')},283:function(e,t,n){},284:function(e,t){},286:function(e,t){},298:function(e,t){},313:function(e,t){},314:function(e,t){},335:function(e,t){},337:function(e,t){},347:function(e,t){},349:function(e,t){},380:function(e,t){},382:function(e,t){},389:function(e,t){},390:function(e,t){},410:function(e,t){},412:function(e,t){},421:function(e,t){},423:function(e,t){},432:function(e,t){},433:function(e,t){},464:function(e,t,n){},472:function(e,t){},474:function(e,t){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(118),c=n.n(r),i=(n(283),n(126)),o=n(23),u=n(493),l=n(494),d=n(262),p=n(495),f=n(496),b=n(497),j=n(498),m=n(499),h=n(491),O=n(492),x=n(127),g=n(8),v=n(13);function y(e){var t=e.children,n=void 0===t?null:t,s=d.b.Devnet,r=Object(a.useMemo)((function(){return Object(g.clusterApiUrl)(s)}),[s]),c=Object(a.useMemo)((function(){return[Object(p.a)(),Object(f.a)(),Object(b.a)(),Object(j.a)({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),Object(m.a)(),Object(h.a)({network:s}),Object(O.a)({network:s})]}),[s]);return Object(v.jsx)(u.a,{endpoint:r,children:Object(v.jsx)(l.a,{wallets:c,autoConnect:!0,children:n})})}n(194);n(464);var w=n.p+"static/media/logo.6ce24c58.svg";function S(){return Object(v.jsx)("div",{className:"css-m7wkyr",children:Object(v.jsx)("div",{className:"css-1kj7ifn",children:Object(v.jsxs)("div",{className:"css-1j66gwz",children:[Object(v.jsx)("div",{className:"chakra-stack css-1i0wgq1",children:Object(v.jsx)("div",{className:"chakra-stack css-oft45e",children:Object(v.jsx)("a",{href:"/",children:Object(v.jsx)("div",{className:"gatsby-image-wrapper gatsby-image-wrapper-constrained",children:Object(v.jsx)("div",{"data-gatsby-image-wrapper":"",className:"gatsby-image-wrapper gatsby-image-wrapper-constrained",children:Object(v.jsx)("img",{src:w,className:"logo"})})})})})}),Object(v.jsx)("div",{className:"chakra-stack css-n4g6ml"}),Object(v.jsx)("div",{className:"chakra-stack css-1u6kme8",children:Object(v.jsx)(x.a,{children:Object(v.jsx)(x.b,{})})}),Object(v.jsx)("div",{className:"chakra-stack css-1buqvcx"})]})})})}var k=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"404 - Not Found!"}),Object(v.jsx)(i.b,{to:"/",children:"Go Home"})]})},P=n(1),M=n.n(P),L=n(4),N=n(9),B=n(54),F=(n(480),n(130)),K=n(271),A=n(259);n(194);var T=B.e.SystemProgram,D=new g.PublicKey(F.metadata.address),R=new g.PublicKey("FuCh2kneiSqhT8s55CHHamxkryBdMUgSmm1xT54QMRUF"),I="processed";function _(){var e=Object(a.useState)(0),t=Object(N.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(0),c=Object(N.a)(r,2),i=c[0],o=c[1],u=Object(K.b)().connection,l=Object(A.b)();function d(){return p.apply(this,arguments)}function p(){return(p=Object(L.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new B.c(u,l,I),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(L.a)(M.a.mark((function e(t){var a,s,r,c,i,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<t)){e.next=3;break}return alert("Your balance is not enough! please deposit some sol to your wallet."),e.abrupt("return");case 3:return e.next=5,d();case 5:return a=e.sent,s=new B.b(F,D,a),e.next=9,g.PublicKey.findProgramAddress([R.toBuffer()],s.programId);case 9:return r=e.sent,c=Object(N.a)(r,2),i=c[0],c[1],e.prev=13,e.next=16,s.rpc.deposit(new B.a(t*g.LAMPORTS_PER_SOL),{accounts:{pool:R,vault:i,depositor:l.publicKey,poolSigner:i,systemProgram:T.programId}});case 16:o=e.sent,alert("Successfully deposited! TrxID: "+o),j(),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(13);case 23:case"end":return e.stop()}}),e,null,[[13,21]])})))).apply(this,arguments)}function b(){return(b=Object(L.a)(M.a.mark((function e(t){var a,s,r,c,i,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<t)){e.next=3;break}return alert("Your balance is not enough! please deposit some sol to your wallet."),e.abrupt("return");case 3:return e.next=5,d();case 5:return a=e.sent,s=new B.b(F,D,a),e.next=9,g.PublicKey.findProgramAddress([R.toBuffer()],D);case 9:return r=e.sent,c=Object(N.a)(r,2),i=c[0],c[1],e.prev=13,e.next=16,s.rpc.withdraw(new B.a(t*g.LAMPORTS_PER_SOL),{accounts:{pool:R,vault:i,receiver:l.publicKey,poolSigner:i,systemProgram:T.programId}});case 16:o=e.sent,alert("Successfully withdrawed! TrxID: "+o),j(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),alert("You have not access for withdraw");case 24:case"end":return e.stop()}}),e,null,[[13,21]])})))).apply(this,arguments)}function j(){return m.apply(this,arguments)}function m(){return(m=Object(L.a)(M.a.mark((function e(){var t,n,a,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getBalance(l.publicKey);case 2:return t=e.sent,s(parseFloat((t/g.LAMPORTS_PER_SOL).toFixed(5))),e.next=6,g.PublicKey.findProgramAddress([R.toBuffer()],D);case 6:return n=e.sent,a=Object(N.a)(n,2),r=a[0],a[1],e.next=12,u.getBalance(r);case 12:c=e.sent,o(parseFloat((c/g.LAMPORTS_PER_SOL).toFixed(5)));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)(Object(L.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.publicKey){e.next=3;break}return e.next=3,j();case 3:case"end":return e.stop()}}),e)}))),[l]),Object(v.jsxs)("div",{style:{textAlign:"center",height:"calc(100vh - 80px)",display:"flex",flexDirection:"column"},children:[Object(v.jsxs)("div",{style:{padding:20,fontSize:30},children:["Your Balance: ",n," SOL"]}),Object(v.jsxs)("div",{style:{padding:20,fontSize:30},children:["Pool Balance: ",i," SOL"]}),Object(v.jsx)("div",{style:{padding:20},children:"Deposit"}),Object(v.jsx)("div",{style:{flex:1},children:Object(v.jsx)("button",{onClick:function(e){return function(e){return f.apply(this,arguments)}(1)},style:{width:125,padding:10,borderStyle:"solid",borderWidth:1,marginLeft:5},children:"1 SOL Deposit"})}),Object(v.jsx)("div",{style:{padding:20},children:"Withdraw"}),Object(v.jsx)("div",{style:{flex:1},children:Object(v.jsx)("button",{onClick:function(e){return function(e){return b.apply(this,arguments)}(.5)},style:{width:125,padding:10,borderStyle:"solid",borderWidth:1,marginLeft:5},children:"0.5 SOL Withdraw"})})]})}n(481);var C=function(){return Object(v.jsx)(y,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)("div",{style:{outline:"none"},children:Object(v.jsxs)("div",{className:"css-1r88i0x",children:[Object(v.jsx)(S,{}),Object(v.jsx)(i.a,{children:Object(v.jsxs)(o.d,{children:[Object(v.jsx)(o.b,{exact:!0,path:"/",children:Object(v.jsx)(o.a,{to:"/home"})}),Object(v.jsx)(o.b,{exact:!0,path:"/home",component:_}),Object(v.jsx)(o.b,{component:k})]})})]})})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,500)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root")),E()}},[[482,1,2]]]);
//# sourceMappingURL=main.4ead5abc.chunk.js.map